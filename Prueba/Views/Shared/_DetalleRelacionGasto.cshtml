@model RelacionDeGastosVM

@*<div class="table-responsive text-center pb-3">
    <table class="table mb-0">
        <thead>
            <tr>
                <th>Sub Total: @(Model.SubTotal.ToString("N"))</th>
                <th>Total: @(Model.Total.ToString("N"))</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
</div>*@
@{

}

<div class="table-responsive">
    <table class="table table-bordered form"
           id="dataTable"
           width="100%"
           cellspacing="0">
        <thead>
            <tr>
                <th>Descripción</th>

                <th>Monto Bsf</th>
                <th></th>
                <th></th>
            </tr>
        </thead>
        <tfoot>
            <tr class="tr_s">
                <th>Sub Total: @(Model.SubTotal.ToString("N")) Bsf</th>
                <th>Total: @(Model.Total.ToString("N")) Bsf</th>
            </tr>
        </tfoot>
        <tbody>
            @if ((Model.SubcuentasGastos != null && Model.SubcuentasGastos.Any())
            && (Model.GastosDiario != null && Model.GastosDiario.Any()))
            {
                @foreach (var item in Model.GastosDiario)
                {
                    var subcuenta = Model.SubcuentasGastos.Where(c => c.Id == item.IdCodCuenta).ToList();
                    <tr class="tr_s">
                        <td>@subcuenta.First().Descricion</td>

                        <td>@(item.Monto.ToString("N"))</td>
                        <td></td>
                        <td></td>

                    </tr>
                }

            }
            else
            {
                <tr class="tr_s">
                    <td class="text-bold-500">No</td>
                    <td>hay</td>
                    <td class="text-bold-500">Gastos</td>
                    <td>:D</td>
                </tr>
            }

            @if (Model.Provisiones != null && Model.Provisiones.Any()
            && Model.SubCuentasProvisiones != null && Model.SubCuentasProvisiones.Any())
            {
                @foreach (var provisiones in Model.Provisiones)
                {
                    var subcuenta = Model.SubCuentasProvisiones.Where(c => provisiones.IdCodCuenta == c.Id).ToList();

                    <tr class="tr_s">
                        <td>@subcuenta.First().Descricion</td>

                        <td>@(provisiones.Monto.ToString("N")) Bsf</td>
                        <td></td>
                        <td></td>
                    </tr>

                }

            }
            else
            {
                <tr class="tr_s">
                    <td class="text-bold-500">No</td>
                    <td>hay</td>
                    <td class="text-bold-500">Provisiones</td>
                    <td>:D</td>
                </tr>
            }

            @if (Model.Fondos != null && Model.Fondos.Any()
            && Model.SubCuentasFondos != null && Model.SubCuentasFondos.Any())
            {
                @foreach (var fondo in Model.Fondos)
                {
                    var subcuenta = Model.SubCuentasFondos.Where(c => fondo.IdCodCuenta == c.Id).ToList();

                   
                        <tr class="tr_s">
                            <th>@subcuenta.First().Descricion - @fondo.Porcentaje % </th>
                           
                            <th>@((Model.SubTotal * fondo.Porcentaje / 100).ToString("N")) Bsf</th>
                            <th></th>
                            <th></th>
                        </tr>
                    

                }
            }
            else
            {
                <tr class="tr_s">
                    <td class="text-bold-500">No</td>
                    <td>hay</td>
                    <td class="text-bold-500">Fondos</td>
                    <td>:D</td>
                </tr>
            }

        </tbody>
    </table>
</div>
